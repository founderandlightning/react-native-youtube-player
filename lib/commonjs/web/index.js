var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _youtubePlayer=_interopRequireDefault(require("youtube-player"));var _browser=_interopRequireDefault(require("react-native-webview-invoke/browser"));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var player;var duration=0;var isPaused=false;var _window=window,innerWidth=_window.innerWidth,innerHeight=_window.innerHeight;var width="100%";var height="100%";var onReady=_browser.default.bind("onReady");var onError=_browser.default.bind("onError");var onStateChange=_browser.default.bind("onStateChange");var onPlaybackRateChange=_browser.default.bind("onPlaybackRateChange");var onPlaybackQualityChange=_browser.default.bind("onPlaybackQualityChange");var onPlaying=_browser.default.bind("onPlaying");var onDurationReady=_browser.default.bind("onDurationReady");var _onStateChange=function _onStateChange(_ref){var data=_ref.data;if(data===1&&duration===0){_setDuration();_setCurrentTime();}if(data!==1)isPaused=true;else isPaused=false;onStateChange(data);};var createPlayer=function createPlayer(opts){var options=_objectSpread({width:width,height:height},opts,{playerVars:_objectSpread({enablejsapi:1,autoplay:0,rel:0,controls:0,playsinline:1,modestbranding:1,showinfo:0},opts.playerVars)});player=(0,_youtubePlayer.default)("player",options);player.on("ready",onReady);player.on("error",onError);player.on("stateChange",_onStateChange);player.on("playbackRateChange",onPlaybackRateChange);player.on("playbackQualityChange",onPlaybackQualityChange);if(opts.playerVars&&opts.playerVars.autoplay)playVideo();};var playVideo=function playVideo(){player.playVideo().then(function(){});};var pauseVideo=function pauseVideo(){player.pauseVideo().then(function(){});};var seekTo=function seekTo(s){player.seekTo(s).then(function(){});};var _setDuration=function _setDuration(){return player.getDuration().then(function(s){duration=s;onDurationReady(s);});};var _setCurrentTime=function _setCurrentTime(){setInterval(function(){if(!isPaused)player.getCurrentTime().then(function(s){return onPlaying(s);});},500);};_browser.default.define("createPlayer",createPlayer);_browser.default.define("playVideo",playVideo);_browser.default.define("pauseVideo",pauseVideo);_browser.default.define("seekTo",seekTo);
//# sourceMappingURL=index.js.map